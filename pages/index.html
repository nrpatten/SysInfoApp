<!DOCTYPE html>
<html lang="en">
<head>
  <title>Sysinfo App</title>
  <script>
    delete window.module;
  </script>
  <script type="application/javascript" src="scripts/jquery-3.4.1.min.js"></script>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/fontawesome.css">
</head>
<body>
  <div class="preload"></div>
  <div class="content">
    <div class="container">
      <div class="jumbotron">
          <nav class="navbar navbar-expand navbar-dark">
            <div id="navbarColor02" style="padding-left: 23px; padding-top:5px; padding-bottom: 5px;">
              <button type="button" class="btn btn-primary active" type="submit" onclick="location.href = '#';"><i class="fas fa-desktop"></i> System Stats</button> <!-- lgtm[js/conflicting-html-attribute] -->
              <button type="button" class="btn btn-primary" type="submit" onclick="location.href = 'cpu.html';"><i class="fas fa-microchip"></i> CPU Info</button> <!-- lgtm[js/conflicting-html-attribute] -->
              <button type="button" class="btn btn-primary" type="submit" onclick="location.href = 'mem.html';"><i class="fas fa-memory"></i> Memory Info</span></button> <!-- lgtm[js/conflicting-html-attribute] -->
              <button type="button" class="btn btn-primary" type="submit" onclick="location.href = 'hdd.html';"><i class="fas fa-hdd"></i> HDD Info</span></button> <!-- lgtm[js/conflicting-html-attribute] -->
              <button type="button" class="btn btn-primary" type="submit" onclick="location.href = 'net.html';"><i class="fas fa-ethernet"></i> Network Info</span></button> <!-- lgtm[js/conflicting-html-attribute] -->
          </div>
        </nav>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Motherboard</th>
              <th scope="col">Model</th>
            </tr>
          </thead>
          <tbody id="mobo">
          </tbody>
        </table>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">GPU</th>
              <th scope="col">Bus Type</th>
            </tr>
          </thead>
          <tbody id="gpu">
          </tbody>
        </table>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Display</th>
              <th scope="col">Resolution</th>
            </tr>
          </thead>
          <tbody id="dis">
          </tbody>
        </table>
      </div>
    </div>
    <div id="footer" class="center"></div>
  </div>
</body>
<script type="application/javascript">
$(function() {
  $(".preload").fadeOut(4000, function() {
    $(".content").fadeIn(6000);
  });
});

let currentVersion = require('../package.json').version.toString();
let currentDescription = require('../package.json').description.toString();
let appAuthor = require('../package.json').author.toString();

let divFooter = '';
divFooter += `
  <center>
  <b>${currentDescription} v${currentVersion}</b> By <a href="https://github.com/nrpatten/" target="_blank">${appAuthor}</a> &copy 2019
  </center>
`;
$('#footer').append(divFooter);

$(document).ready(function(){

  const electron = require('electron');
  let {ipcRenderer} = electron;
  $(function(e) {
      e.preventDefault = true;
      ipcRenderer.send('will-resize', 810, 520);
  });

  const si = require('systeminformation');

  // Mobo Info
  si.getAllData().then(data => {
    // Motherboard
    var trMOBO = '';
    trMOBO += `
    <tr class="table-active">
      <td><b>${data.baseboard.manufacturer}</b></td>
      <td><b>${data.baseboard.model}</b></td>
    </tr>`;
    <!-- // CPU Info -->
    <!-- var trCPU = ''; -->
    <!-- trCPU += ` -->
    <!-- <tr class="table-active"> -->
      <!-- <td><b>${data.cpu.brand}</b></td> -->
      <!-- <td></td> -->
      <!-- <td><b>${data.cpu.speed}GHz</b></td> -->
      <!-- <td><b>${data.cpu.physicalCores}</b></td> -->
      <!-- <td><b>${data.cpu.cores}</b></td> -->
      <!-- <td><b>${data.cpu.socket}</b></td> -->
    <!-- </tr>`; -->
    <!-- // RAM Info -->
    <!-- var trRAM = ''; -->
    <!-- jQuery.each(data.memLayout, function(k, item) { -->
      <!-- trRAM += ` -->
      <!-- <tr class="table-active"> -->
        <!-- <td><b>${item.partNum}</b></td> -->
        <!-- <td></td> -->
        <!-- <td><b>${item.bank}</b></td> -->
        <!-- <td><b>${item.size / Math.pow(1024, 3)}GB</b></td> -->
        <!-- <td><b>${item.clockSpeed * 2}MHz</b></td> -->
      <!-- </tr>`; -->
    <!-- }); -->
    <!-- // HDD Info -->
    <!-- var trHDD = ''; -->
    <!-- data.diskLayout.sort(function(a, b) { -->
      <!-- var x = a.interfaceType; -->
      <!-- var y = b.interfaceType; -->
      <!-- return x < y ? -1 : x > y ? 1 : 0; -->
    <!-- }); -->
    <!-- jQuery.each(data.diskLayout, function(k, item) { -->
      <!-- trHDD += ` -->
      <!-- <tr class="table-active"> -->
        <!-- <td><b>${item.name}</b></td> -->
        <!-- <td><b>${item.type}</b></td> -->
        <!-- <td><b>${item.interfaceType}</b></td> -->
      <!-- </tr>`; -->
    <!-- }); -->
    <!-- // HDD Use -->
    <!-- var trHDDFS = ''; -->
    <!-- jQuery.each(data.fsSize, function(k, item) { -->
      <!-- function hddUnits(args){ -->
        <!-- if (args == 0) { -->
          <!-- result = 0; -->
          <!-- unit = ''; -->
        <!-- } -->
        <!-- if(args !== 0 && args < 1024) { -->
          <!-- result = args; -->
          <!-- unit = ''; -->
        <!-- } -->
        <!-- if(args >= 1024 && args < Math.pow(1024, 2)) { -->
          <!-- result = args / 1024; -->
          <!-- unit = 'KB'; -->
        <!-- } -->
        <!-- if(args >= Math.pow(1024, 2) && args < Math.pow(1024, 3)) { -->
          <!-- result = args / Math.pow(1024, 2); -->
          <!-- unit = 'MB'; -->
        <!-- } -->
        <!-- if(args >= Math.pow(1024, 3) && args < Math.pow(1024, 4)) { -->
          <!-- result = args / Math.pow(1024, 3); -->
          <!-- unit = 'GB'; -->
        <!-- } -->
        <!-- if(args >= Math.pow(1024, 4) && args < Math.pow(1024, 5)) { -->
          <!-- result = args / Math.pow(1024, 4); -->
          <!-- unit = 'TB'; -->
        <!-- } -->
        <!-- return result.toFixed(2) + unit; -->
      <!-- } -->
      <!-- trHDDFS += ` -->
      <!-- <tr class="table-active"> -->
        <!-- <td><b>${item.fs}</b></td> -->
        <!-- <td><b>${hddUnits(item.size)}</b></td> -->
        <!-- <td><b>${hddUnits(item.used)}  (${(item.use).toFixed(1)}%)</b></td> -->
      <!-- </tr>`; -->
    <!-- }); -->
    // GPU Info
    var trGPU = '';
    jQuery.each(data.graphics.controllers, function(k, item) {
      trGPU += `
      <tr class="table-active">
        <td><b>${item.model}</b></td>
        <td><b>${item.bus}e</b></td>
      </tr>`;
    });
    // Display Info
    var trDIS = '';
    jQuery.each(data.graphics.displays, function(k, item) {
      trDIS += `
      <tr class="table-active">
        <td><b>${item.model}</b></td>
        <td><b>${item.resolutionx + "x" + item.resolutiony + "@" + item.pixeldepth}</b></td>
      </tr>`;
    });
    jQuery('#mobo').append(trMOBO);
    <!-- jQuery('#cpu').append(trCPU); -->
    <!-- jQuery('#ram').append(trRAM); -->
    <!-- jQuery('#hdd').append(trHDD); -->
    <!-- jQuery('#hddfs').append(trHDDFS); -->
    jQuery('#gpu').append(trGPU);
    jQuery('#dis').append(trDIS);
  }).catch(error => alert(error));
});
<!-- // CPU Load -->
<!-- var refreshLoad = setInterval(() => { -->
  <!-- si.currentLoad().then(data => { -->
    <!-- var trLOAD = ''; -->
    <!-- trLOAD += ` -->
    <!-- Idle: ${data.currentload_idle.toFixed(0)}% -->
    <!-- Avg Load: ${data.avgload.toFixed(0)}% -->
    <!-- <div class="progress widtha"> -->
      <!-- <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="${data.currentload.toFixed(0)}" aria-valuemin="0" aria-valuemax="100" style="width: ${data.currentload.toFixed(0)}%"> -->
        <!-- <span>Current Load: ${data.currentload.toFixed(0)}%</span> -->
      <!-- </div> -->
    <!-- </div>`; -->
    <!-- jQuery('#load').empty(); -->
    <!-- jQuery('#load').append(trLOAD); -->
  <!-- }).catch(error => alert(error)); -->
<!-- }, 1000); -->

<!-- // Ram Usage -->
<!-- var refreshMem = setInterval(() => { -->
  <!-- si.mem().then(data => { -->
    <!-- var trMEM = ''; -->
    <!-- trMEM += ` -->
    <!-- Ram Used: ${(data.used / Math.pow(1024, 3)).toFixed(0)}GB -->
    <!-- Total: ${Math.round(data.total / Math.pow(1024, 3))}GB -->
    <!-- <div class="progress"> -->
      <!-- <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="${(data.used / Math.pow(1024, 3)).toFixed(0)}" aria-valuemin="0" aria-valuemax="100" style="width: ${(data.used / Math.pow(1024, 3)).toFixed(0)}%;"> -->
        <!-- <span>Used: ${(data.used / Math.pow(1024, 3) / Math.round(data.total / Math.pow(1024, 3)) * 100).toFixed(0)}%</span> -->
      <!-- </div> -->
    <!-- </div>`; -->
    <!-- jQuery('#mem').empty(); -->
    <!-- jQuery('#mem').append(trMEM); -->
  <!-- }).catch(error => alert(error)); -->
<!-- }, 1000); -->

<!-- // Network Info -->
<!-- var refreshNet = setInterval(() => { -->
  <!-- si.networkStats().then(data => { -->
    <!-- si.inetLatency().then(latency => { -->
      <!-- var trNIC = ''; -->
      <!-- function netUnits(args){ -->
        <!-- if (args == 0) { -->
          <!-- result = 0; -->
          <!-- unit = 'b'; -->
        <!-- } -->
        <!-- if(args !== 0 && args < 1024) { -->
          <!-- result = args; -->
          <!-- unit = 'Kb'; -->
        <!-- } -->
        <!-- if(args >= 1024 && args < Math.pow(1024, 2)) { -->
          <!-- result = args / 1024; -->
          <!-- unit = 'KB'; -->
        <!-- } -->
        <!-- if(args >= Math.pow(1024, 2) && args < Math.pow(1024, 3)) { -->
          <!-- result = args / Math.pow(1024, 2); -->
          <!-- unit = 'MB'; -->
        <!-- } -->
        <!-- if(args >= Math.pow(1024, 3) && args < Math.pow(1024, 4)) { -->
          <!-- result = args / Math.pow(1024, 3); -->
          <!-- unit = 'GB'; -->
        <!-- } -->
        <!-- if(args >= Math.pow(1024, 4) && args < Math.pow(1024, 5)) { -->
          <!-- result = args / Math.pow(1024, 4); -->
          <!-- unit = 'TB'; -->
        <!-- } -->
        <!-- return result.toFixed(2) + unit; -->
      <!-- } -->
      <!-- jQuery.each(data, function(k, item) { -->
        <!-- trNIC += ` -->
        <!-- <tr class="table-active"> -->
          <!-- <td><b>${item.iface}</b></td> -->
          <!-- <td><b>${netUnits(item.rx_bytes)}</b></td> -->
          <!-- <td><b>${netUnits(item.rx_sec)}</b></td> -->
          <!-- <td><b>${netUnits(item.tx_bytes)}</b></td> -->
          <!-- <td><b>${netUnits(item.tx_sec)}</b></td> -->
          <!-- <td><b>${latency} (ms)</b></td> -->
        <!-- </tr>`; -->
      <!-- }); -->
      <!-- jQuery('#nic').empty(); -->
      <!-- jQuery('#nic').append(trNIC); -->
    <!-- }) -->
  <!-- }).catch(error => alert(error)); -->
<!-- }, 1000); -->
</script>
</html>